Получение списка рекомендаций
=============================

Ограничения:
------------

* Данные актуальны в течение 20 минут. По истечении этого времени запрос будет возвращать ошибку "Данные устарели". При получении такой ошибки необходимо выполнить новый поиск.
* Количество младенцев без места не может превышать количество взрослых пассажиров.
* Общее количество пассажиров не может превышать 7 человек.

Запрос
------

* Роут - /flights
* HTTP метод запроса - GET

Параметры запроса:

1. **from** - *array*, обязательный. Пункты отправления в формате IATA (трёхбуквенный идентификатор).
2. **to** - *array*, обязательный. Пункты прибытия в формате IATA (трёхбуквенный идентификатор).
3. **date** - *array*, обязательный. Даты отправления для каждого сегмента путешествия, в формате php:Y-m-d.
4. **class** - *string*, обязательный. Класс перелета. Допустимые значения указаны в [справочнике](guide.md).
5. **adt** - *integer*, обязательный. Количество взрослых пассажиров.
6. **chd** - *integer*, опциональный. Количество пассажиров-детей.
7. **inf** - *integer*, опциональный. Количество пассажиров-младенцев.
8. **airlines** - *array*, опциональный. IATA коды интересующих авиакомпаний для выполнения перелета.
9. **limit** - *integer*, опциональный. Максимальное количество рекомендаций в ответе. По умолчанию ответ содержит до 100 рекомендаций.
10. **currency** - *string*, опциональный. Валюта, в которой будет представлена стоимость, в формате ISO 4217. По умолчанию цены представлены в UZS. Допустимые значения указаны в [справочнике](guide.md).

Пример запроса по маршруту Ташкент-Москва-Ташкент для 2 взрослых пассажиров:

```php
    https://test.radiustravel.uz/avia/v1/flights?from[0]=TAS&to[0]=MOW&date[0]=2020-10-12&from[1]=MOW&to[1]=TAS&date[1]=2020-11-05&adt=2&class=A&limit=50&currency=usd&token=klmnPYz52MUJPH1ZsPXw
```

Пример ответа:
--------------

```php
{
    "success":true,
    "date":"2020-03-17 14:03",
    "execution_time":5.175,
    "data":{
        "found":100, // количество найденных рекомендаций
        "flights":[ // массив рекомендаций
            {
                "id":"b09b6b503a0a9ac3ea26f0a9ee11de69", // идентификатор рекомендации, используется для бронирования
                "price":{ // блок стоимости
                    "UZS":{ // валюта стоимости, возможные значения указаны в справочнике
                        "total":6412323, // общая стоимость рекомендации
                        "recommended":6341333 // стоимость, рекомендуемая авиакомпанией
                    }
                },
                "passengers":[ // информация о пассажирах
                    {
                        "age":"adt", // код возраста, возможные значения указаны в справочнике
                        "price":3206228, // общая стоимость рекомендации для пассажира
                        "documents":[ // документы, доступные для бронирования, возможные значения указаны в справочнике
                            "A"
                        ]
                    },
                    {
                        "age":"adt",
                        "price":3206095,
                        "documents":[
                            "A"
                        ]
                    }
                ],
                "directions":[ // направления перелетов, например, в перелете Ташкент-Москва-Ташкент будет 2 направления: Ташкент-Москва и Москва-Ташкент
                    {
                        "dep_city":"Ташкент", // город отправления
                        "dep_airport":"TAS", // IATA код аэропорта отправления
                        "dep_datetime":"2020-10-12 04:50:00", // дата и время отправления по Гринвичу
                        "arr_city":"Москва", // город прибытия
                        "arr_airport":"DME", // IATA код аэропорта прибытия
                        "arr_datetime":"2020-10-12 09:10:00", // дата и время прибытия по Гринвичу
                        "flight_duration":260, // время в пути, минут
                        "transfer_duration":null, // время ожидания пересадки, минут
                        "segments":[ // сегменты перелета
                            {
                                "dep_city":"Ташкент", // город отправления
                                "dep_airport":"TAS", // IATA код аэропорта отправления
                                "dep_airport_terminal":"2", // терминал аэропорта отправления
                                "dep_datetime":"2020-10-12 04:50:00", // дата и время отправления по Гринвичу
                                "arr_city":"Москва", // город прибытия
                                "arr_airport":"DME", // IATA код аэропорта прибытия
                                "arr_airport_terminal":null, // терминал аэропорта прибытия
                                "arr_datetime":"2020-10-12 09:10:00", // дата и время прибытия по Гринвичу
                                "flight_duration":260, // время в пути, минут
                                "transfer_duration":null, // время ожидания пересадки, минут
                                "is_refund":true, // возможен ли возврат билета
                                "is_change":true, // возможен ли обмен билета
                                "carrier_code":"S7", // IATA код авиакомпании-перевозчика
                                "carrier_title":"S7 Airlines", // название авиакомпании-перевозчика
                                "flight_number":"3250", // номер рейса
                                "aircraft_code":"32A", // код авиалайнера
                                "aircraft_title":"Airbus A320 Sharklets", // название авиалайнера
                                "class":"E", // класс перелета
                                "seats":9, // количество свободных мест
                                "baggage":{ // информация по багажу
                                    "piece":1, // количество мест
                                    "weight":null // максимальный вес
                                },
                                "handbags":{ // информация по ручной клади
                                    "piece":1, // количество мест
                                    "weight":10 // максимальный вес
                                }
                            }
                        ]
                    },
                    {
                        "dep_city":"Москва",
                        "dep_airport":"DME",
                        "dep_datetime":"2020-11-04 23:25:00",
                        "arr_city":"Ташкент",
                        "arr_airport":"TAS",
                        "arr_datetime":"2020-11-05 03:30:00",
                        "flight_duration":245,
                        "transfer_duration":null,
                        "segments":[
                            {
                                "dep_city":"Москва",
                                "dep_airport":"DME",
                                "dep_airport_terminal":null,
                                "dep_datetime":"2020-11-04 23:25:00",
                                "arr_city":"Ташкент",
                                "arr_airport":"TAS",
                                "arr_airport_terminal":"2",
                                "arr_datetime":"2020-11-05 03:30:00",
                                "flight_duration":245,
                                "transfer_duration":null,
                                "is_refund":true,
                                "is_change":true,
                                "carrier_code":"S7",
                                "carrier_title":"S7 Airlines",
                                "flight_number":"3249",
                                "aircraft_code":"73H",
                                "aircraft_title":"Boeing 737-800 with winglets",
                                "class":"E",
                                "seats":9,
                                "baggage":{
                                    "piece":1,
                                    "weight":null
                                },
                                "handbags":{
                                    "piece":1,
                                    "weight":10
                                }
                            }
                        ]
                    }
                ],
                "rules":null
            },
            ...
        ]
    }
}
```